Hotel = inputValue
Meal Plan = mealSearch
Room Type = roomSearch



Pax/Room = roomDetails.paxRoom

No. of Rooms = roomDetails.noOfRooms

AWEB = roomDetails.adultWithExtraBed

CWEB = roomDetails.childWithExtraBed

CNB = roomDetails.childNoBed









  <tbody>
      {selectedNights.map((night, index) => (
        <tr key={index}>
          <td>
            {night.date} ({night.day})
          </td>

          <td>INR N/A</td>

          {/* <td
  className="cursor-pointer"
  onClick={() => {
    setActiveNight(night);   // üëà kis date ka popup
    setShowPopup(true);
  }}
>
  {nightPrices[night.date]
    ? `INR ${nightPrices[night.date]}`
    : "INR 0"}
</td> */}

   <td
            className="cursor-pointer"
            onClick={() => {
              setActiveNight(night);
              setShowPopup(true);
            }}
          >
            {roomDetails.roomPrice[night.date]
              ? `INR ${roomDetails.roomPrice[night.date]}`
              : "INR 0"}
          </td>

        </tr>
      ))}
    </tbody>




































const saveRoomDetails = async () => {
  let updatedRoomPrices = { ...roomDetails.roomPrice };

  if (keepSamePrice) {
    stayNights.forEach(night => {
      updatedRoomPrices[night.date] =
        Number(roomDetails.roomPrice?.[activeNight.date] || 0);
    });
  } 
  else if (activeNight) {
    updatedRoomPrices[activeNight.date] =
      Number(roomDetails.roomPrice?.[activeNight.date] || 0);
  }

  setRoomDetails(prev => ({
    ...prev,
    roomPrice: updatedRoomPrices
  }));





  //   // üíæ Supabase save
  const { data, error } = await supabase
    .from("hotel_pricing")
    .upsert(
      {
        // form_no: roomDetails.form_no,
        form_no: formId,


        pax_room: Number(roomDetails.paxRoom) || 0,
        no_of_rooms: Number(roomDetails.noOfRooms) || 0,
        adult_with_extra_bed: Number(roomDetails.adultWithExtraBed) || 0,
        child_with_extra_bed: Number(roomDetails.childWithExtraBed) || 0,
        child_no_bed: Number(roomDetails.childNoBed) || 0,

        // room_price: Number(roomDetails.roomPrice) || 0,
        aweb_price: Number(roomDetails.awebPrice) || 0,
        cweb_price: Number(roomDetails.cwebPrice) || 0,
        cnb_price: Number(roomDetails.cnbPrice) || 0,

        hotel_name: inputValue,
        meal_plan: mealSearch,
        room_type: roomSearch,

        // ‚≠ê IMPORTANT
           night_prices: updatedRoomPrices
      },
      {
        onConflict: "form_no"
      }
    )
    .select().single()
 
 

  if (error) {
    console.log("Save Error:", error);
    return;
  }

  // ‚úÖ update local state from DB
  setNightPrices(data.night_prices || {});
  setKeepSamePrice(false);
  setActiveNight(null);
  setShowPopup(false);
  console.log("Saved Successfully:", data);
};